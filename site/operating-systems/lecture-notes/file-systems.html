
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Systems | Elijah's Notes</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Covers the implementation of file systems, including the programming interface, differences between Windows and Unix file systems, and the on-disk structure of the FAT file system. Discusses key concepts such as file and directory management, design constraints, and the hierarchical structure of file systems.">
    <meta name="author" content="Elijah Melton">
    <meta name="robots" content="index, follow">
    <meta name="generator" content="Custom Static Site Generator">
    <link rel="canonical" href="https://notes.elimelt.com/operating-systems/lecture-notes/file-systems.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="File Systems">
    <meta property="og:description" content="Covers the implementation of file systems, including the programming interface, differences between Windows and Unix file systems, and the on-disk structure of the FAT file system. Discusses key concepts such as file and directory management, design constraints, and the hierarchical structure of file systems.">
    <meta property="og:url" content="https://notes.elimelt.com/operating-systems/lecture-notes/file-systems.html">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="File Systems">
    <meta name="twitter:description" content="Covers the implementation of file systems, including the programming interface, differences between Windows and Unix file systems, and the on-disk structure of the FAT file system. Discusses key concepts such as file and directory management, design constraints, and the hierarchical structure of file systems.">

    <meta name="keywords" content="file systems,storage,hierarchical structure,programming interface,system calls">

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {"@context": "https://schema.org", "@type": "Article", "headline": "File Systems", "dateModified": "2025-02-11T20:48:47.884995", "description": "Covers the implementation of file systems, including the programming interface, differences between Windows and Unix file systems, and the on-disk structure of the FAT file system. Discusses key concepts such as file and directory management, design constraints, and the hierarchical structure of file systems.", "articleSection": "Operating Systems", "keywords": "file systems,storage,hierarchical structure,programming interface,system calls"}
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js"></script>

    <!-- Configure KaTeX auto-render -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "\[", right: "\]", display: true},
                    {left: "$", right: "$", display: false},
                ],
                preProcess: (math) => {
                    console.log("Pre-processing: " + math);
                    math = math.split("\n").map((line) => {
                        if (line.endsWith("\\")) {
                            return line + "\\";
                        }
                        return line;
                    }).join("\n");
                    return math;
                },
                throwOnError: false
            });
        });
    </script>

<style>

/* Taxonomy Pages Enhancement - Add this to your existing CSS */

/* Taxonomy List Container */
.taxonomy-container {
    margin: var(--spacing-lg) 0;
}

/* Alphabet Jump Navigation */
.alphabet-nav {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: var(--spacing-lg);
    position: sticky;
    top: 60px; /* Adjust based on your nav height */
    background: var(--background-color);
    padding: var(--spacing-sm) 0;
    z-index: 10;
    border-bottom: 1px solid var(--border-color);
}

.alphabet-nav a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: var(--radius-sm);
    background: var(--border-color);
    text-decoration: none;
    font-weight: 500;
    transition: all var(--transition-speed);
}

.alphabet-nav a:hover, .alphabet-nav a:focus {
    background: var(--accent-color);
    color: white;
}

.alphabet-nav a.empty {
    opacity: 0.4;
    cursor: default;
}

.alphabet-nav a.empty:hover {
    background: var(--border-color);
    color: var(--text-color);
}

/* Alphabet Section */
.alphabet-section {
    margin-bottom: var(--spacing-lg);
    scroll-margin-top: 120px; /* Ensures the section isn't hidden behind sticky elements */
}

.alphabet-section h2 {
    font-size: 1.8rem;
    padding-bottom: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--accent-color);
    color: var(--accent-color);
}

/* Enhanced List Styling */
.taxonomy-list {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: var(--spacing-md);
}

.taxonomy-list li {
    display: flex;
    align-items: center;
    padding: var(--spacing-sm);
    border-radius: var(--radius-sm);
    background: var(--accent-light);
    transition: all var(--transition-speed);
}

.taxonomy-list li:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.taxonomy-list a {
    flex: 1;
    display: block;
    text-decoration: none;
    font-weight: 500;
}

.taxonomy-list .count {
    background: var(--accent-color);
    color: white;
    padding: 0.1rem 0.5rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
}

/* Search Box */
.taxonomy-search {
    margin-bottom: var(--spacing-lg);
    width: 100%;
}

.search-container {
    position: relative;
}

.search-container input {
    width: 100%;
    padding: var(--spacing-md);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--background-color);
    color: var(--text-color);
    font-size: 1rem;
    transition: all var(--transition-speed);
}

.search-container input:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px var(--accent-light);
}

.search-icon {
    position: absolute;
    right: var(--spacing-md);
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-color);
    opacity: 0.5;
}

/* No Results Message */
.no-results {
    padding: var(--spacing-lg);
    text-align: center;
    background: var(--border-color);
    border-radius: var(--radius-md);
    margin: var(--spacing-lg) 0;
}

/* Tag Cloud for Tags Page */
.tag-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    margin: var(--spacing-lg) 0;
}

.tag-cloud a {
    display: inline-block;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-sm);
    background: var(--border-color);
    color: var(--text-color);
    text-decoration: none;
    transition: all var(--transition-speed);
    margin-bottom: var(--spacing-sm);
}

.tag-cloud a:hover {
    background: var(--accent-color);
    color: white;
    transform: translateY(-2px);
}

/* Tag sizes based on frequency */
.tag-xs { font-size: 0.8rem; }
.tag-sm { font-size: 0.9rem; }
.tag-md { font-size: 1rem; }
.tag-lg { font-size: 1.2rem; }
.tag-xl { font-size: 1.5rem; }

/* Category Summary Cards */
.category-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--spacing-md);
    margin: var(--spacing-lg) 0;
}

.category-card {
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    transition: all var(--transition-speed);
    background: var(--background-color);
}

.category-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-md);
    border-color: var(--accent-color);
}

.category-card h3 {
    margin-top: 0;
    margin-bottom: var(--spacing-sm);
    border-bottom: 1px solid var(--border-color);
    padding-bottom: var(--spacing-sm);
}

.category-card .page-count {
    color: var(--accent-color);
    font-weight: bold;
}

.category-card .sample-pages {
    margin-top: var(--spacing-sm);
    font-size: 0.9rem;
}

.category-card .sample-pages a {
    display: block;
    margin-bottom: var(--spacing-sm);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.category-card .view-all {
    display: block;
    text-align: right;
    margin-top: var(--spacing-sm);
    font-weight: 500;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .taxonomy-list {
        grid-template-columns: 1fr;
    }

    .alphabet-nav {
        gap: 0.3rem;
    }

    .alphabet-nav a {
        width: 1.8rem;
        height: 1.8rem;
        font-size: 0.9rem;
    }

    .category-cards {
        grid-template-columns: 1fr;
    }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
    .taxonomy-list li {
        background: rgba(96, 165, 250, 0.1);
    }

    .category-card {
        background: var(--background-color);
    }
}

/* Animation for items appearing when filtering */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.taxonomy-list li {
    animation: fadeIn 0.3s ease-out;
}

/* Google Fonts Import */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&display=swap');

/* Base Typography Settings */
.content {
    /* Layout and spacing */
    margin-top: 2rem;
    max-width: 70ch;
    margin-left: auto;
    margin-right: auto;
    padding: 0 1.5rem;

    /* Base font settings */
    font-family: 'Merriweather', Georgia, serif;
    font-size: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
    line-height: 1.75;
    font-weight: 400;

    /* Color and contrast */
    color: rgba(0, 0, 0, 0.87);
    background-color: #fff;

    /* Text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;

    /* Better spacing */
    letter-spacing: 0.01em;
    word-spacing: 0.05em;

    /* Hyphenation for better text flow */
    hyphens: auto;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
}

/* Heading Typography */
.content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 700;
    line-height: 1.3;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    color: rgba(0, 0, 0, 0.9);
}

.content h1 {
    font-size: clamp(1.75rem, 1.3rem + 2.25vw, 2.5rem);
    letter-spacing: -0.02em;
}

.content h2 {
    font-size: clamp(1.5rem, 1.2rem + 1.5vw, 2rem);
    letter-spacing: -0.015em;
}

.content h3 {
    font-size: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
    letter-spacing: -0.01em;
}

/* Paragraph spacing */
.content p {
    margin-bottom: 1.5rem;
}

.content p + p {
    text-indent: 0.5rem; /* Optional: slight indent for paragraphs after other paragraphs */
}

/* Links with advanced styling */
.content a {
    color: #0366d6;
    text-decoration: none;
    background-image: linear-gradient(transparent calc(100% - 2px), currentColor 2px);
    background-size: 0% 100%;
    background-repeat: no-repeat;
    transition: background-size 0.3s ease-in-out;
}

.content a:hover {
    background-size: 100% 100%;
}

/* Lists with improved spacing */
.content ul, .content ol {
    padding-left: 1.75rem;
    margin-bottom: 1.5rem;
}

.content li {
    margin-bottom: 0.5rem;
}

/* Blockquotes with elegant styling */
.content blockquote {
    margin: 2rem 0;
    padding: 1rem 1.5rem;
    border-left: 4px solid rgba(0, 0, 0, 0.1);
    background-color: rgba(0, 0, 0, 0.02);
    font-style: italic;
    color: rgba(0, 0, 0, 0.75);
}

.content blockquote p:last-child {
    margin-bottom: 0;
}

/* Code blocks */
.content pre, .content code {
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.9em;
    background-color: rgba(0, 0, 0, 0.04);
    border-radius: 3px;
}

.content code {
    padding: 0.2em 0.4em;
}

.content pre {
    padding: 1rem;
    overflow-x: auto;
    margin: 1.5rem 0;
}

/* Images */
.content img {
    max-width: 100%;
    height: auto;
    border-radius: 4px;
    display: block;
    margin: 2rem auto;
}

/* Tables */
.content table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    font-size: 0.95em;
}

.content th, .content td {
    padding: 0.75rem;
    border: 1px solid rgba(0, 0, 0, 0.1);
}

.content th {
    background-color: rgba(0, 0, 0, 0.03);
    font-weight: 600;
    text-align: left;
}

/* Figure and captions */
.content figure {
    margin: 2rem 0;
}

.content figcaption {
    margin-top: 0.5rem;
    font-size: 0.875rem;
    color: rgba(0, 0, 0, 0.6);
    text-align: center;
    font-family: 'Inter', sans-serif;
}

/* Advanced features for better reading */
@media (min-width: 768px) {
    .content {
        /* Better paragraph rhythm using CSS Grid */
        display: grid;
        grid-template-columns: minmax(0, 1fr);
        row-gap: 0rem;

        /* Drop cap for first paragraph */
    }

    .markdown-content p:first-of-type::first-letter {
        float: left;
        font-size: 3.5em;
        line-height: 0.8;
        padding-right: 0.1em;
        font-weight: 700;
    }

    /* Improve reading with advanced CSS columns for certain elements */
    .content .two-column {
        column-count: 2;
        column-gap: 2.5rem;
        column-rule: 1px solid rgba(0, 0, 0, 0.1);
    }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
    .content {
        color: rgba(255, 255, 255, 0.87);
        background-color: #1a1a1a;
    }

    .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
        color: rgba(255, 255, 255, 0.95);
    }

    .content a {
        color: #58a6ff;
    }

    .content blockquote {
        border-left-color: rgba(255, 255, 255, 0.2);
        background-color: rgba(255, 255, 255, 0.05);
        color: rgba(255, 255, 255, 0.7);
    }

    .content pre, .content code {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .content th, .content td {
        border-color: rgba(255, 255, 255, 0.1);
    }

    .content th {
        background-color: rgba(255, 255, 255, 0.05);
    }
}

/* High contrast mode for accessibility */
@media (forced-colors: active) {
    .content a {
        background-image: none;
        text-decoration: underline;
    }
}

/* Print styles for better printing experience */
@media print {
    .content {
        font-size: 12pt;
        line-height: 1.5;
        color: #000;
    }

    .content a {
        text-decoration: underline;
        color: #000;
        background-image: none;
    }

    .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
        page-break-after: avoid;
    }

    .content p, .content blockquote, .content ul, .content ol {
        orphans: 3;
        widows: 3;
    }
}

/* Advanced font features */
.content {
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1, 'pnum' 1, 'tnum' 0, 'onum' 1, 'lnum' 0, 'dlig' 0;
}

.content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1, 'pnum' 1, 'tnum' 0, 'onum' 0, 'lnum' 1, 'dlig' 1;
}

/* Selection styling */
.content ::selection {
    background-color: rgba(0, 102, 204, 0.2);
    text-shadow: none;
}

:root {
    --text-color: #1a1a1a;
    --background-color: #ffffff;
    --accent-color: #2563eb;
    --accent-light: rgba(37, 99, 235, 0.1);
    --border-color: #e5e7eb;
    --nav-background: rgba(255, 255, 255, 0.95);
    --code-background: #f3f4f6;
    --transition-speed: 0.2s;
    --content-width: 50rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 2rem;
    --spacing-xl: 3rem;
    --radius-sm: 4px;
    --radius-md: 8px;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
}

@media (prefers-color-scheme: dark) {
    :root {
        --text-color: #f3f4f6;
        --background-color: #1a1a1a;
        --accent-color: #60a5fa;
        --accent-light: rgba(96, 165, 250, 0.1);
        --border-color: #374151;
        --nav-background: rgba(26, 26, 26, 0.95);
        --code-background: #2d3748;
    }
}

/* Reset and base styles */
*, *::before, *::after {
    box-sizing: border-box;
}

html {
    font-size: 100%;
    scroll-behavior: smooth;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6;
    max-width: var(--content-width);
    margin: 0 auto;
    padding: var(--spacing-md);
    color: var(--text-color);
    background: var(--background-color);
    transition: background-color var(--transition-speed), color var(--transition-speed);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

@media (min-width: 768px) {
    body {
        padding: var(--spacing-lg);
    }
}

/* Improved navigation */
nav {
    position: sticky;
    top: 0;
    background: var(--nav-background);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border-color);
    padding: var(--spacing-md) 0;
    margin: calc(-1 * var(--spacing-md));
    margin-bottom: var(--spacing-lg);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    z-index: 1000;
    width: calc(100% + var(--spacing-md) * 2);
    padding-left: var(--spacing-md);
    padding-right: var(--spacing-md);
    box-shadow: var(--shadow-sm);
}

@media (min-width: 768px) {
    nav {
        margin: calc(-1 * var(--spacing-lg));
        width: calc(100% + var(--spacing-lg) * 2);
        padding-left: var(--spacing-lg);
        padding-right: var(--spacing-lg);
        gap: var(--spacing-md);
    }
}

nav a {
    color: var(--accent-color);
    text-decoration: none;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-sm);
    transition: background-color var(--transition-speed), color var(--transition-speed);
    font-weight: 500;
}

nav a:hover, nav a:focus {
    background-color: var(--accent-light);
    outline: none;
}

nav a:focus-visible {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

/* Improved breadcrumbs */
.breadcrumbs {
    margin-bottom: var(--spacing-lg);
    color: var(--text-color);
    opacity: 0.8;
    font-size: 0.9rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
}

.breadcrumbs a {
    color: var(--accent-color);
    text-decoration: none;
    transition: color var(--transition-speed);
}

.breadcrumbs a:hover {
    text-decoration: underline;
}

.breadcrumbs span:not(:last-child)::after {
    content: "/";
    margin-left: 0.5rem;
    opacity: 0.5;
}

/* Article styles */
article {
    margin-bottom: var(--spacing-xl);
}

h1, h2, h3, h4, h5, h6 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-md);
    line-height: 1.3;
    font-weight: 600;
}

h1 {
    font-size: 2rem;
    margin-top: 0;
}

h2 {
    font-size: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border-color);
}

/* Meta information styling */
.meta {
    color: var(--text-color);
    opacity: 0.8;
    font-size: 0.9rem;
    margin-bottom: var(--spacing-lg);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-md);
    padding-bottom: var(--spacing-md);
    border-bottom: 1px solid var(--border-color);
}

/* Improved code blocks */
code {
    background: var(--code-background);
    padding: 0.2rem 0.4rem;
    border-radius: var(--radius-sm);
    font-size: 0.9em;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
}

pre {
    background: var(--code-background);
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    overflow-x: auto;
    margin: var(--spacing-lg) 0;
    box-shadow: var(--shadow-sm);
}

pre code {
    background: none;
    padding: 0;
    border-radius: 0;
}

/* Improved links */
a {
    color: var(--accent-color);
    text-decoration: none;
    transition: color var(--transition-speed);
}

a:hover {
    text-decoration: underline;
}

/* Improved image handling */
img {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-md);
    margin: var(--spacing-lg) 0;
    display: block;
    box-shadow: var(--shadow-md);
}

/* Table improvements */
table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--spacing-lg) 0;
    overflow-x: auto;
    display: block;
    border-radius: var(--radius-sm);
    box-shadow: var(--shadow-sm);
}

@media (min-width: 768px) {
    table {
        display: table;
    }
}

th, td {
    padding: 0.75rem;
    border: 1px solid var(--border-color);
    text-align: left;
}

th {
    background: var(--border-color);
    font-weight: 600;
}

/* Tags styling */
.tags {
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-md);
    border-top: 1px solid var(--border-color);
}

.tags a {
    display: inline-block;
    background: var(--border-color);
    color: var(--text-color);
    padding: 0.2rem 0.6rem;
    border-radius: var(--radius-sm);
    text-decoration: none;
    font-size: 0.9em;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    transition: background-color var(--transition-speed), color var(--transition-speed);
}

.tags a:hover {
    background: var(--accent-color);
    color: white;
    text-decoration: none;
}

/* Footer improvements */
footer {
    margin-top: var(--spacing-xl);
    padding-top: var(--spacing-md);
    border-top: 1px solid var(--border-color);
    text-align: center;
    font-size: 0.9rem;
    opacity: 0.8;
}

/* Blockquote styling */
blockquote {
    margin: var(--spacing-lg) 0;
    padding-left: var(--spacing-md);
    border-left: 4px solid var(--accent-color);
    color: var(--text-color);
    opacity: 0.9;
    font-style: italic;
}

/* Improved KaTeX rendering */
.katex-display {
    overflow: auto hidden;
    padding: var(--spacing-md) 0;
    margin: var(--spacing-md) 0;
    background: var(--accent-light);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
}

.katex-display > .katex {
    white-space: normal;
}

.katex {
    font-size: 1.1em;
    line-height: 1.2;
}

.katex-display .katex {
    display: block;
    text-align: center;
}

.katex-display > .katex > .katex-html {
    display: block;
    max-width: 100%;
    overflow-x: auto;
    padding: 0.5em 0;
    min-height: 40px;
}

/* Index page styling */
.landing-stats {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    justify-content: space-around;
}

.stat-item {
    text-align: center;
    padding: var(--spacing-md);
    flex: 1;
}

.stat-value {
    display: block;
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--accent-color);
}

.stat-label {
    font-size: 0.9rem;
    opacity: 0.8;
}

/* Base styles for all screen sizes */
.landing-grid {
    margin: 0 auto;
    padding: 1rem;
    max-width: 1200px;
}

/* Stats section styling */
.stats-section {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1.5rem;
}

.stat-item {
    padding: .5rem;
    text-align: center;
    width: 30%;
}

.stat-number {
    color: #4a88cf;
    font-size: 1.5rem;
    font-weight: bold;
}

.stat-label {
    color: #888;
    font-size: 0.9rem;
}


h2 {
    border-bottom: 1px solid #333;
    padding-bottom: 0.5rem;
    margin-top: 0;
}

/* Recent posts list */
.recent-posts, .categories-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.recent-posts li {
    border-bottom: 1px solid #333;
    padding: 0.75rem 0;
}

.recent-posts li:last-child {
    border-bottom: none;
}

.date, .category {
    color: #888;
    font-size: 0.8rem;
    margin-right: 0.5rem;
}

.category {
    background-color: #3a5e8c;
    border-radius: 3px;
    color: #fff;
    padding: 2px 6px;
}

/* Tags cloud */
.tags-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.tags-cloud a {
    background-color: #3a5e8c;
    border-radius: 3px;
    color: #fff;
    display: inline-block;
    font-size: 0.85rem;
    padding: 0.3rem 0.5rem;
}

/* MOBILE LAYOUT (default) */
.content-area, .sidebar-area {
    width: 100%;
}

/* DESKTOP LAYOUT */
@media (min-width: 768px) {
    .landing-grid {
        display: flex;
        flex-wrap: wrap;
    }

    .stats-section {
        width: 100%;
    }

    .content-area {
        flex: 2;
        margin-right: 1.5rem;
    }

    .sidebar-area {
        flex: 1;
    }

    .recent-section {
        height: 100%;
    }
}

.recent-posts, .categories-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.recent-posts li, .categories-list li {
    padding: var(--spacing-sm) 0;
    border-bottom: 1px solid var(--border-color);
}

.recent-posts li:last-child, .categories-list li:last-child {
    border-bottom: none;
}

.recent-posts .date, .recent-posts .category, .categories-list .count {
    font-size: 0.85rem;
    opacity: 0.7;
    margin-left: var(--spacing-sm);
}

.tags-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.tags-cloud a {
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--border-color);
    border-radius: var(--radius-sm);
    text-decoration: none;
    transition: background-color var(--transition-speed), color var(--transition-speed);
}

.tags-cloud a:hover {
    background: var(--accent-color);
    color: white;
    text-decoration: none;
}

.tag-size-1 { font-size: 0.8rem; }
.tag-size-2 { font-size: 0.9rem; }
.tag-size-3 { font-size: 1rem; }
.tag-size-4 { font-size: 1.1rem; }
.tag-size-5 { font-size: 1.2rem; }

/* Focus styles for accessibility */
*:focus-visible {
    outline: 2px solid var(--accent-color);
    outline-offset: 2px;
}

/* Print styles */
@media print {
    nav, .breadcrumbs, .tags, footer {
        display: none;
    }

    body {
        max-width: none;
        padding: 0;
        color: black;
        background: white;
    }

    a {
        color: black;
        text-decoration: underline;
    }

    .content {
        max-width: 100%;
    }
}

/* Directories styling */
.top-level-links {
    border-left: 4px solid #4a88cf; /* Blue accent border */
    padding-left: 1rem;
}

.top-level-links-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 0.75rem;
}

.top-level-links-list li {
    margin-bottom: 0.5rem;
}

.top-level-links-list a {
    display: block;
    padding: 0.5rem;
}

</style></head>
<body>
    <header>
        <nav role="navigation" aria-label="Main navigation">
            <a href="/index.html">Home</a>
<a href="/categories/index.html">Categories</a>
<a href="/tags/index.html">Tags</a>
        </nav>
        <div class="breadcrumbs" role="navigation" aria-label="Breadcrumb">
            <a href="/index.html">Home</a> » <a href="/categories/operating%20systems.html">Operating Systems</a> » File Systems
        </div>
    </header>
    <main role="main">
        <article>
            <h1>File Systems</h1>
            <div class="meta">
                <time datetime="2025-02-11T20:48:47.884995">
                    Last modified: 2025-02-11
                </time>
                <span>Category: <a href="/categories/operating%20systems.html">Operating Systems</a></span>
            </div>
            <div class=markdown-content content>
                <h1 id="file-systems">File Systems</h1>
<p>A file system interacts with storage by reading/writing blocks (sectors) on a per-volume basis. It is basically a thick layer of abstraction over the raw storage device.</p>
<h2 id="programming-interface">Programming Interface</h2>
<ul>
<li>Naming: files and directories in a hierarchical structure.</li>
<li>Operations: create, delete, open, close, read, write, seek, stat, etc.</li>
</ul>
<table>
<thead>
<tr>
<th>Windows</th>
<th>Unix</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CreateFile(name, CREATE)</code></td>
<td><code>open(name, O_CREAT)</code></td>
</tr>
<tr>
<td><code>CreateFile(name, OPEN)</code></td>
<td><code>open(name, O_RDONLY)</code></td>
</tr>
<tr>
<td><code>ReadFile(handle, buffer, size)</code></td>
<td><code>read(fd, buffer, size)</code></td>
</tr>
<tr>
<td><code>WriteFile(handle, buffer, size)</code></td>
<td><code>write(fd, buffer, size)</code></td>
</tr>
<tr>
<td><code>CloseHandle(handle)</code></td>
<td><code>close(fd)</code></td>
</tr>
<tr>
<td><code>FlushFileBuffers(handle)</code></td>
<td><code>fsync(fd)</code></td>
</tr>
<tr>
<td><code>SetFilePointer(handle, offset, whence)</code></td>
<td><code>lseek(fd, offset, whence)</code></td>
</tr>
<tr>
<td><code>GetFileSize(handle)</code></td>
<td><code>fstat(fd, &amp;buf)</code></td>
</tr>
<tr>
<td><code>DeleteFile(name)</code></td>
<td><code>unlink(name)</code></td>
</tr>
<tr>
<td><code>MoveFile(old, new)</code></td>
<td><code>rename(old, new)</code></td>
</tr>
</tbody>
</table>
<p>We all know about this and I'm not going to get into it.</p>
<h3 id="windows-vs-unix">Windows vs. Unix</h3>
<h4 id="moving-files">Moving Files</h4>
<p>Windows and Unix have different ways of moving files. In Unix, you always use the <code>rename</code> system call. In Windows, moving a file within the same volume is a rename operation, whereas moving a file between volumes is a copy operation followed by a delete operation.</p>
<h4 id="deleting-files">Deleting Files</h4>
<p>In Unix, a file is not actually deleted until all references to it are removed. In Windows, a file is deleted as soon as the last reference to it is removed. This is why you can't delete a file that is open in Windows.</p>
<h2 id="files">Files</h2>
<p>A file is logically just a sequence of bytes, typically consisting of data and properties/metadata. Some file systems also have types (ie. regular file, directory, symbolic link, device, etc.). </p>
<p>Some files are also understood to be executable by the OS. In Windows, the file type is determined by the file extension. In Unix, the file type is determined by the file's metadata.</p>
<p>Shared file handles will also share the file's offset. This can be an issue if you have multiple threads or processes reading/writing to the same file handle.</p>
<h2 id="directories">Directories</h2>
<p>A directory is typically just a file that contains metadata about the files it contains in the form of <strong>directory entries</strong>. It is a mapping from file names to file metadata.</p>
<h2 id="design-constriants">Design Constriants</h2>
<ul>
<li>Want to support small and large files efficiently. Small files need small blocks for efficient storage, whereas large files need large blocks for contiguity</li>
<li>Store actual file data within <strong>blocks</strong>. Need an indexing structure to retrieve the blocks of a file: <strong>inode</strong> in Unix, <strong>file control block</strong> in Windows.</li>
<li>Also need to be able to efficiently locate free space. Often done with either a <strong>bitmap</strong> or a <strong>free list</strong> on disk.</li>
<li>Want to maximize spatial locality and minimize seek time, while minimizing fragmentation.</li>
<li>Need reliability and fault tolerance. Can use <strong>journaling</strong> to recover from crashes, and error detection/correction codes + redundancy to recover from disk errors (RAID).</li>
</ul>
<h2 id="on-disk-structure">On-Disk Structure</h2>
<p>There is typically a layer of storage that actually gets persisted on disk, as well as the in-memory representation of the file system that is manipulated by the OS.</p>
<h3 id="fat-file-system">FAT File System</h3>
<p>The <strong>File Allocation Table</strong> file system is a simple file system that was used in DOS and Windows. It has a simple on-disk structure that consists of a <strong>reserved area</strong>, a number of <strong>FAT areas</strong>, and a <strong>data area</strong>. The reserved area contains the boot sector and metadata about the file system/disk layout. The FAT areas contain the file allocation table, which is a table that maps file names to disk blocks. The data area contains the actual file data.</p>
<pre><code>+-----------------+-----------------+-----------------+-----------------+
| Reserved Area   | FAT Area 1      | FAT Area 2      | Data Area       |
+-----------------+-----------------+-----------------+-----------------+
</code></pre>
            </div>
            <div class="tags">
                Tags:
                <a href="/tags/file%20systems.html">file systems</a>
                <a href="/tags/hierarchical%20structure.html">hierarchical structure</a>
                <a href="/tags/programming%20interface.html">programming interface</a>
                <a href="/tags/storage.html">storage</a>
                <a href="/tags/system%20calls.html">system calls</a>
            </div>
        </article>
    </main>
    <footer role="contentinfo">
        <p>2025, authored by Elijah Melton.</p>
    </footer>
</body>
</html>
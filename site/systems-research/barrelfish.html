
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Multikernel, A new OS architecture for scalable multicore systems</title>
    <meta name="description" content="A review of the paper The Multikernel, A new OS architecture for scalable multicore systems, where the OS is treated as a distributed system.">
    <link rel="canonical" href="https://notes.elimelt.com/systems-research/barrelfish.html">
    <link rel="stylesheet" href="/css/styles.css">
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "headline": "The Multikernel, A new OS architecture for scalable multicore systems", "dateModified": "2025-05-10T14:43:32.655004", "description": "A review of the paper The Multikernel, A new OS architecture for scalable multicore systems, where the OS is treated as a distributed system.", "url": "https://notes.elimelt.com/systems-research/barrelfish.html", "articleSection": "Operating Systems", "keywords": "os,operating-system,systems,multicore,kernel"}</script>
</head>
<body>
    <header>
        <nav><a href="https://github.com/elimelt/notes" style="font-size:24px; color: white;" class="fa">&#xf09b;</a> | <a href="/index.html">Home</a> | <a href="/categories/index.html">Categories</a> | <a href="/tags/index.html">Tags</a></nav>
        <div class="breadcrumbs"><a href="/index.html">Home</a> » <a href="/categories/operating%20systems.html">Operating Systems</a> » The Multikernel, A new OS architecture for scalable multicore systems</div>
    </header>
    <main class="content">
        <h1>The Multikernel, A new OS architecture for scalable multicore systems</h1>
        <h6 id="the-multikernel-a-new-os-architecture-for-scalable-multicore-systems"><a class="toclink" href="#the-multikernel-a-new-os-architecture-for-scalable-multicore-systems"><a href="https://people.inf.ethz.ch/troscoe/pubs/sosp09-barrelfish.pdf">The Multikernel: A new OS architecture for scalable multicore systems</a></a></h6>
<hr />
<h3 id="what-is-the-problem"><a class="toclink" href="#what-is-the-problem">What is the Problem?</a></h3>
<p>Scaling to varying loads and demands on multicore systems is difficult with traditional OS architectures. Optimizations tend to be specific to not only a particular workload, but also a particular choice of hardware.</p>
<p>In particular, traditional kernels are littered with shared state (e.g. global data structures in shared memory) that can lead to bottlenecks and unforeseen interactions between components. Modern systems being multicore makes this a real problem for scalability that adapts to all varieties of workloads.</p>
<h3 id="summary"><a class="toclink" href="#summary">Summary</a></h3>
<p>The authors proposed a new OS architecture, the Multikernel, that treats the OS as a distributed system. The key idea is to use message passing for all inter-core communication. It turns out that message passing is a better model for hardware (networked, heterogeneous) than sequentially updating shared state, and it allows for natural pipelining as well.</p>
<h3 id="key-insights"><a class="toclink" href="#key-insights">Key Insights</a></h3>
<ul>
<li>Systems, and even individual cores within a machine, are extremely diverse. It is therefore hard to write optimizations that work on all of them.</li>
<li>Even on current, cache coherent systems, the hardware is designed to facilitate message passing (e.g. cache coherence protocols).</li>
<li>Message passing has less overhead than shared memory. Shared state tends to cause cores to wait on cache misses, stalling the pipeline. Message passing on the other hand can be implemented with async RPCs, and is even still faster with synchronous RPCs in some cases.</li>
<li>Cache coherence overhead typically grows with the number of cores, even becoming a bottleneck at ~80 cores. Modern programmable cores (e.g. NICs, GPUs) are not cache coherent, so there is precedent for non-coherent systems.</li>
</ul>
<h3 id="notable-design-detailsstrengths"><a class="toclink" href="#notable-design-detailsstrengths">Notable Design Details/Strengths</a></h3>
<ul>
<li>Make all inter-core communication explicit</li>
<li>Make OS structure hardware-neutral</li>
<li>View state as replicated instead of shared</li>
</ul>
<h3 id="limitationsweaknesses"><a class="toclink" href="#limitationsweaknesses">Limitations/Weaknesses</a></h3>
<h2 id="-"><a class="toclink" href="#-">-</a></h2>
<h3 id="summary-of-key-results"><a class="toclink" href="#summary-of-key-results">Summary of Key Results</a></h3>
<h2 id="-_1"><a class="toclink" href="#-_1">-</a></h2>
<h3 id="open-questions"><a class="toclink" href="#open-questions">Open Questions</a></h3>
<h2 id="-_2"><a class="toclink" href="#-_2">-</a></h2>
    </main>
    <footer>
        <p>&copy; 2025 Notes Site</p>
    </footer>
</body>
</html>
    